"use strict";var app=angular.module("messangerApp",["ngAnimate","ngCookies","ngMessages","ngResource","ngRoute","ngSanitize","ngTouch","ng-token-auth"]);app.config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}).when("/sign_up",{templateUrl:"views/user_registrations/new.html",controller:"UserRegistrationsCtrl"}).when("/sign_in",{templateUrl:"views/user_sessions/new.html",controller:"UserSessionsCtrl"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl",controllerAs:"about"}).otherwise({redirectTo:"/"})}]),app.run(["$rootScope","$location",function(a,b){a.$on("auth:login-success",function(){b.path("/")})}]),angular.module("messangerApp").controller("MainCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"];var a=new WebSocketRails("localhost:3000/websocket");$scope.hello=function(){a.trigger("hello_act")}}),angular.module("messangerApp").controller("AboutCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("messangerApp").controller("UserSessionsCtrl",["$scope",function(a){a.$on("auth:login-error",function(b,c){a.error=c.errors[0]})}]),angular.module("messangerApp").controller("UserRegistrationsCtrl",["$scope","$auth",function(a,b){a.errors=[],a.handleRegBtnClick=function(){b.submitRegistration(a.registrationForm).then(function(){b.submitLogin({email:a.registrationForm.email,password:a.registrationForm.password})})},a.$on("auth:registration-email-error",function(b,c){a.errors=c.errors.full_messages}),a.$on("auth:validation-error",function(b,c){a.errors=c.errors.full_messages})}]),angular.module("messangerApp").run(["$templateCache",function(a){a.put("views/about.html","<p>This is the about view.</p>"),a.put("views/main.html","<h1>Home</h1> <p>This is the home page.</p>"),a.put("views/user_registrations/new.html",'<div class="alert alert-danger" role="alert" ng-hide="!errors.length"> <ul> <li ng-repeat="error in errors"> {{error}} </li> </ul> </div> <form ng-submit="handleRegBtnClick()" role="form" ng-init="registrationForm = {}"> <div class="form-group"> <label for="email">Email</label> <input type="email" name="email" id="email" ng-model="registrationForm.email" required class="form-control"> </div> <div class="form-group"> <label for="password">Password</label> <input type="password" name="password" id="password" ng-model="registrationForm.password" required class="form-control"> </div> <div class="form-group"> <label for="password_confirmation">Password confirmation</label> <input type="password" name="password_confirmation" id="password_confirmation" ng-model="registrationForm.password_confirmation" required class="form-control"> </div> <button type="submit" class="btn btn-primary btn-lg">Register</button> </form>'),a.put("views/user_sessions/new.html",'<!-- client/app/views/user_sessions/new.html --> <div class="alert alert-danger" role="alert" ng-show="error"> {{error}} </div> <form ng-submit="submitLogin(loginForm)" role="form" ng-init="loginForm = {}"> <div class="form-group"> <label for="email">Email</label> <input type="email" name="email" id="email" ng-model="loginForm.email" required class="form-control"> </div> <div class="form-group"> <label for="password">Password</label> <input type="password" name="password" id="password" ng-model="loginForm.password" required class="form-control"> </div> <button type="submit" class="btn btn-primary btn-lg">Sign in</button> </form>')}]);